/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 */

import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a Travel Plan for Location: Las vegas, for 3 Days for 2 people with a cheap budget. Give me a Hotels options list with HotelName, Hotel address, price, hotel image url, geo coordinates , rating, descriptions and suggest itinerary with placeName, place details, place image URL, geo coordinates , ticket pricing, rating, time to travel to each of the locations for 3 days with each day plan with best time to visit in JSON format. "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$80/night\",\n      \"hotelImageURL\": \"https://www.the-d.com/media/img/hero_images/hero_the_d_las_vegas_hotel_casino_homepage_hero.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1421\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly option in the heart of Fremont Street, with a casino, live music, and a retro vibe.\"\n    },\n    {\n      \"hotelName\": \"The Golden Nugget\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$60-$100/night\",\n      \"hotelImageURL\": \"https://www.goldennugget.com/las-vegas/media/images/hero-images/golden-nugget-las-vegas-hero.jpg\",\n      \"geoCoordinates\": \"36.1696, -115.1414\",\n      \"rating\": 4.5,\n      \"description\": \"Known for its opulent decor and the impressive \"Shark Tank\" aquarium, offering a unique and affordable stay.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$60/night\",\n      \"hotelImageURL\": \"https://www.circuscircus.com/media/img/hero_images/hero_circus_circus_las_vegas_hotel_casino_homepage_hero.jpg\",\n      \"geoCoordinates\": \"36.1045, -115.1732\",\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly option with a carnival atmosphere, featuring a circus, midway games, and affordable rooms.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Experience the vibrant energy of Fremont Street, with its iconic canopy, street performers, and lively bars and restaurants.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_desktop/public/2020-07/FremontStreetExperience-20-3.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1421\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Walkable from most downtown hotels\",\n          \"bestTime\": \"Evening, to experience the vibrant lights and atmosphere.\"\n        },\n        {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"Discover the fascinating history of Las Vegas through its iconic neon signs.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_desktop/public/2019-05/NeonMuseum1.jpg\",\n          \"geoCoordinates\": \"36.1697, -115.1509\",\n          \"ticketPricing\": \"$25/person\",\n          \"rating\": 4.0,\n          \"timeToTravel\": \"10-minute walk from Fremont Street\",\n          \"bestTime\": \"Afternoon, to avoid crowds.\"\n        },\n        {\n          \"placeName\": \"El Cortez Hotel & Casino\",\n          \"placeDetails\": \"Enjoy a classic Las Vegas experience with a vintage atmosphere, affordable dining, and a casino.\",\n          \"placeImageURL\": \"https://www.elcortezhotelcasino.com/media/images/hero-images/el-cortez-las-vegas-hero.jpg\",\n          \"geoCoordinates\": \"36.1689, -115.1422\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 3.5,\n          \"timeToTravel\": \"Walkable from Fremont Street\",\n          \"bestTime\": \"Evening, for a fun and casual atmosphere.\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"Explore the iconic Las Vegas Strip, with its famous hotels, casinos, and entertainment options.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_desktop/public/2020-07/TheStrip-20-1.jpg\",\n          \"geoCoordinates\": \"36.1048, -115.1743\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeToTravel\": \"Take the Las Vegas Monorail or a bus to reach The Strip\",\n          \"bestTime\": \"Evening, to witness the dazzling lights.\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Admire the beautiful floral displays and seasonal themes in this stunning garden.\",\n          \"placeImageURL\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory-garden/seasonal-exhibits/conservatory-garden-seasonal-exhibit-spring-2023.jpg\",\n          \"geoCoordinates\": \"36.1120, -115.1738\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Located on The Strip\",\n          \"bestTime\": \"Daytime, to appreciate the details of the floral displays.\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Witness the spectacular water and light show synchronized to music.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_desktop/public/2020-07/Fountains-20-1.jpg\",\n          \"geoCoordinates\": \"36.1118, -115.1737\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"Located in front of the Bellagio\",\n          \"bestTime\": \"Evening, for the best visual experience.\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Take a day trip to the iconic Hoover Dam, a marvel of engineering.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_desktop/public/2020-07/HooverDam-20-2.jpg\",\n          \"geoCoordinates\": \"36.0169, -114.9035\",\n          \"ticketPricing\": \"$30/person\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"1-hour drive from Las Vegas\",\n          \"bestTime\": \"Morning, to avoid the afternoon heat.\"\n        },\n        {\n          \"placeName\": \"Lake Mead National Recreation Area\",\n          \"placeDetails\": \"Enjoy the scenic beauty of Lake Mead, offering opportunities for boating, hiking, and exploring.\"\n          \"placeImageURL\": \"https://www.nps.gov/lake/learn/nature/images/lake-mead-lake-view-1.jpg\",\n          \"geoCoordinates\": \"36.0809, -114.9349\",\n          \"ticketPricing\": \"$30/vehicle\",\n          \"rating\": 4.0,\n          \"timeToTravel\": \"Located near Hoover Dam\",\n          \"bestTime\": \"Afternoon, for a relaxing lake experience.\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is designed for a budget-friendly experience and can be customized based on your interests. \n* Hotel prices may vary depending on the season and availability.\n* Consider using public transportation or ride-sharing services to minimize transportation costs.\n* Pack light and bring comfortable shoes for lots of walking. \n* Remember to drink plenty of water, especially during the summer months.\n* This itinerary focuses on iconic Las Vegas attractions and free experiences.  There are many other affordable options available, such as exploring museums, visiting parks, or enjoying free shows on Fremont Street. \n"},
          ],
        },
      ],
    });
  